<h1 class="mat-display-1 app-headline">Films App</h1>

<app-search-input (add)="fetchMovies($event)"></app-search-input>

<p class="mat-body-2 loading-item" *ngIf="isLoading">Loading...</p>

<div class="cards-wrapper">
  <div class="movie-card-wrapper" *ngFor="let movie of resultMovies | async">
    <mat-grid-list class="movie-card" cols="5" rowHeight="30px" [gutterSize]="'5px'">
      <mat-grid-tile colspan="5" rowspan="2">
        <h2 class="mat-title movie-title">
          {{ movie.movieTitle }}
        </h2>
      </mat-grid-tile>
      <mat-grid-tile colspan="5" rowspan="1">
        <p class="mat-body-2">
          {{ movie.movieReleaseDate | date }}
        </p>
      </mat-grid-tile>
      <mat-grid-tile colspan="2" rowspan="14">
        <img
          class="movie-poster"
          mat-card-image
          src="https://image.tmdb.org/t/p/w300/{{ movie.moviePoster }}"
          alt="{{ movie.movieTitle }}"
        />
      </mat-grid-tile>
      <mat-grid-tile colspan="3" rowspan="14">
        <p class="mat-body-2 movie-overview truncate">
          {{ movie.movieOverview }}
        </p>
      </mat-grid-tile>
      <div *ngFor="let movieActor of movie.moviesAddInfo">
        <mat-grid-tile class="actor-card" colspan="1" rowspan="6" *ngIf="movieActor.profile_path !== null">
          <div class="actor-card-wrapper">
            <img
              class="actor-avatar"
              mat-card-image
              src="https://image.tmdb.org/t/p/w300/{{ movieActor.profile_path }}"
              alt="{{ movieActor.name }}"
            />
            <p class="mat-body-2 actor-name">{{ movieActor.name }}</p>
          </div>
        </mat-grid-tile>
      </div>
    </mat-grid-list>
  </div>
</div>
